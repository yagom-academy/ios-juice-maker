Week 2 README

# Juice Maker [STEP 2]
> ê³¼ì¼ì˜ ì¬ê³ ë¥¼ í™”ë©´ì— ì¶œë ¥í•˜ê³ ,
> ì‚¬ìš©ìê°€ ì£¼ë¬¸ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ ì¥¬ìŠ¤ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ í•„ìš”í•œ ê³¼ì¼ì˜ ìˆ˜ëŸ‰ì„ ì†Œì§„í•©ë‹ˆë‹¤.
> ê³¼ì¼ì˜ ì¬ê³ ê°€ ë‹¤ ë–¨ì–´ì¡Œì„ ê²½ìš° ì¥¬ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ì—†ìœ¼ë©°,
> ì¬ê³ ìˆ˜ì • ë²„íŠ¼ì„ í†µí•´ ì¬ê³ ë¥¼ ì¶”ê°€í•˜ëŠ” í™”ë©´ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.

## ğŸ“š ëª©ì°¨
- [íŒ€ì›ì†Œê°œ](#-íŒ€ì›-ì†Œê°œ)
- [íƒ€ì„ë¼ì¸](#-íƒ€ì„ë¼ì¸)
- [ì‹¤í–‰í™”ë©´](#-ì‹¤í–‰í™”ë©´)
- [íŠ¸ëŸ¬ë¸” ìŠˆíŒ…](#-íŠ¸ëŸ¬ë¸”-ìŠˆíŒ…)
- [ì°¸ê³ ìë£Œ](#-ì°¸ê³ ìë£Œ)

## ğŸ§‘â€ğŸ’» íŒ€ì› ì†Œê°œ
| <img src="https://i.imgur.com/PmVVM2M.png" width="200"/> | <img src="https://github.com/devKobe24/BranchTest/blob/main/IMG_5424.JPG?raw=true" width="200" height="200"/> |
| :-: | :-: |
| [**maxhyunm**](https://github.com/maxhyunm) | [**Kobe**](https://github.com/devKobe24) |

## â° íƒ€ì„ë¼ì¸
í”„ë¡œì íŠ¸ ì§„í–‰ ê¸°ê°„ | 23.05.11.(ëª©) ~ 23.05.16.(í™”)

| ë‚ ì§œ | ì§„í–‰ ì‚¬í•­ |
| -------- | -------- |
| 23.05.11.(ëª©)     |'ì¬ê³ ìˆ˜ì •'ë²„íŠ¼ì„ í„°ì¹˜í•˜ì—¬ 'ì¬ê³  ì¶”ê°€'í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê¸°ëŠ¥ êµ¬í˜„, StockViewController ìƒì„±.<br/>ì¥¬ìŠ¤ ì£¼ë¬¸ ë²„íŠ¼ ì „ì²´ ì—°ê²° ë° Alert ìƒì„±.<br/>JuiceMaker ì£¼ë¬¸ ë©”ì„œë“œ 1ì°¨ ì—°ê²°.<br/>ë²„íŠ¼ ë¶„ê¸°ì²˜ë¦¬ ë° ì¬ê³  ì—†ì„ ê²½ìš° ì¬ê³ ì¶”ê°€ í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ëŠ” ë¡œì§ êµ¬í˜„. |
| 23.05.12.(ê¸ˆ)     | showStock í•¨ìˆ˜ ìƒì„±, getInventoryStatus í•¨ìˆ˜ ìƒì„±, FruitStore íƒ€ì… ë³€ê²½.<br/>ì¥¬ìŠ¤ ì œì¡° ì™„ë£Œ ì–¼ëŸ¿ ì¶”ê°€, ë ˆì´ë¸”ëª… ìˆ˜ì •, ìŠ¤í† ë¦¬ì§€ weak ì„¤ì •.<br/>ê°œí–‰ ì»¨ë°´ì…˜ ìˆ˜ì •.     |
| 23.05.15.(ì›”)     | ë‚´ë¹„ê²Œì´ì…˜ ë°” ìƒ‰ìƒ ë³€ê²½, JuiceMakerì— FruitStore ê´€ë ¨ ë©”ì„œë“œ ìƒì„±.<br/>addTarget í•¨ìˆ˜ ë¶„ë¦¬, label, button ë³€ìˆ˜ëª… ë³€ê²½, ì ‘ê·¼ ì œì–´ì ì¶”ê°€.<br/>Alertìš© Enum ìƒì„±, Alert ë©”ì„œë“œ ë¶„ë¦¬, replaceStockLabel ë©”ì„œë“œëª… ë³€ê²½, ì¬ê³ ìˆ˜ì • ë‚´ë¹„ê²Œì´ì…˜ ì»¨íŠ¸ë¡¤ëŸ¬ ì‚­ì œ ë° Present Modallyë¡œ í™”ë©´ì „í™˜ ë³€ê²½.<br/>ViewControllerëª… ë³€ê²½.<br/>MainViewController ê°œí–‰ ìˆ˜ì •.|
| 23.05.16.(í™”)     | showAlert ì¤‘ë³µ ì½”ë“œ ì‚­ì œ, Alert ì—´ê±°í˜• ì´ë¦„ ë³€ê²½, ê°œí–‰ ìˆ˜ì •, í™”ë©´ì „í™˜ ë°©ë²• showì—ì„œ presentë¡œ ë³€ê²½, ì ‘ê·¼ì œì–´ì ì¶”ê°€.     |

## ğŸ“º ì‹¤í–‰í™”ë©´
- JuiceMaker ì‹¤í–‰ í™”ë©´ <br>
![](https://hackmd.io/_uploads/H18ZpV4Sn.gif)

## ğŸ”¨ íŠ¸ëŸ¬ë¸” ìŠˆíŒ… 
### 1ï¸âƒ£ ê³¼ì¼ë³„ ì¬ê³  í‘œì‹œ <br>
**ë¬¸ì œì **<br>
FruitStoreì˜ ì¬ê³ ë¥¼ íŒŒì•…í•˜ëŠ” í•¨ìˆ˜ë¥¼ JuiceMakerì— ë”°ë¡œ êµ¬í˜„í•˜ì§€ ì•Šì•˜ë”ë‹ˆ, í•„ìš”í•  ë•Œë§ˆë‹¤ FruistStoreì— ì§ì ‘ ì ‘ê·¼í•´ì•¼ í•˜ëŠ” ë¬¸ì œê°€ ìƒê²¼ìŠµë‹ˆë‹¤.
```swift=!
// MainViewController.swift
let fruitStore = FruitStore(equalizedStock: 10)
lazy var juiceMaker = JuiceMaker(fruitStore: fruitStore)
...
let fruitStock: [Fruit: Int] = fruitStore.getInventoryStatus()
```
```swift=!
// JuiceMaker.swift
init(fruitStore: FruitStore) {
    self.fruitStore = fruitStore
}
```

ğŸ”‘ **í•´ê²°ë°©ë²•** <br>
FruitStore ê´€ë ¨ ë‚´ìš©ì„ ëª¨ë‘ JuiceMakerë¥¼ í†µí•´ì„œë„ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ë©”ì„œë“œë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤. ë˜í•œ ì „ì²´ ê³¼ì¼ ì¬ê³ ë¥¼ í•œë²ˆì— ë¦¬í„´ë°›ì„ ìˆ˜ ìˆëŠ” ë©”ì„œë“œë„ ì¶”ê°€ êµ¬í˜„í•˜ì—¬ í™”ë©´ êµ¬ì„±ì— ìš©ì´í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.
```swift=!
// MainViewController.swift
let juiceMaker = JuiceMaker(equalizedStock: 10)
...
let fruitStock: [Fruit: Int] = juiceMaker.getFruitInventoryStatus()
```
```swift=!
// JuiceMaker.swift
init(stock: [Fruit: Int]) {
     self.fruitStore = FruitStore(stock: stock)
 }

init(equalizedStock: Int) {
self.fruitStore = FruitStore(equalizedStock: equalizedStock)
...
func changeFruitStock(of fruit: Fruit, quantity: Int) {
     fruitStore.changeStock(of: fruit, quantity: quantity)
 }

 func getFruitInventoryStatus() -> [Fruit: Int] {
     return fruitStore.getInventoryStatus()
 }
```



### 2ï¸âƒ£ ì—ëŸ¬ì²˜ë¦¬ <br>
ğŸ”’ **ë¬¸ì œì ** <br>
makeFruitJuice ë©”ì„œë“œì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ê²½ìš°, ì´ ë‚´ìš©ì„ ViewControllerì— ì „ë‹¬í•˜ê¸° ìœ„í•´ í•´ë‹¹ ì—ëŸ¬ë¥¼ ì¬ì „ë‹¬(ë‹¤ì‹œ throw)í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ë‹ˆ ë¶ˆí•„ìš”í•œ ì½”ë“œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
```swift!
func makeFruitJuice(menu: FruitJuice) throws {
    ...
     do {
         for ingredient in recipe {
             let changedQuantity = try fruitStore.calculateStock(of: ingredient.fruit, quantity: ingredient.quantity)
     ...
     } catch StockError.fruitNotFound {
         print(StockError.fruitNotFound.message)
        throw StockError.fruitNotFound
     } catch StockError.outOfStock {
         print(StockError.outOfStock.message)
        throw StockError.outOfStock
     } catch {
         print(StockError.unKnown.message)
        throw StockError.unKnown
    ...
}
```

ğŸ”‘ **í•´ê²°ë°©ë²•** <br>
makeFruitJuiceì—ì„œ do-catchë¬¸ì„ ì‚­ì œí•˜ê³  throwsë§Œ ë‚¨ê²¨ í•´ë‹¹ ì˜¤ë¥˜ë¥¼ ê·¸ëŒ€ë¡œ ì „ë‹¬í•˜ë„ë¡ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.
```swift!
func makeFruitJuice(menu: FruitJuice) throws {
    let recipe = menu.juiceRecipe
    var changedStock: Recipe = []
    for ingredient in recipe {
        let changedQuantity = try fruitStore.calculateStock(of: ingredient.fruit,
quantity: ingredient.quantity)
    changedStock.append((fruit: ingredient.fruit, quantity: changedQuantity))
    }
    changedStock.forEach {
        fruitStore.changeStock(of: $0.fruit, quantity: $0.quantity)
        }
        print("\(menu.name) ì œì¡°ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.")
	}
```


### 3ï¸âƒ£ Alert <br>
ğŸ”’ **ë¬¸ì œì ** <br>
ì–¼ëŸ¿ì°½ ì²˜ë¦¬ë¥¼ êµ¬í˜„í•˜ë©´ì„œ ì–¼ëŸ¿ ë©”ì‹œì§€ë¥¼ ë§¤ì§ë¦¬í„°ëŸ´ ì²˜ë¦¬í•˜ë‹ˆ ì½”ë“œì˜ ê°€ë…ì„±ì´ ë–¨ì–´ì§€ê³ , ìœ ì§€ë³´ìˆ˜ì— ìš©ì´í•˜ì§€ ëª»í•  ê²ƒ ê°™ì•˜ìŠµë‹ˆë‹¤.

```swift=!
// ViewController.swift
private func orderJuice(_ menuName: FruitJuice) {
    self.storyboard?.instantiateViewController(
        identifier: "StockViewController"
    ) else {
        return
    }
      do {
            try juiceMaker.makeFruitJuice(menu: menuName)
            showStock()
            let alert = UIAlertController(title: "\(menuName.name) ë‚˜ì™”ìŠµë‹ˆë‹¤!",
										  message: "ë§›ìˆê²Œ ë“œì„¸ìš”!",
										  preferredStyle: .alert)
            let ok = UIAlertAction(title: "ì•¼í˜¸!",
								   style: .default,
								   handler: nil)
            alert.addAction(ok)
            present(alert, animated: true, completion: nil)
        } catch StockError.fruitNotFound {
            print(StockError.fruitNotFound.message)
        } catch StockError.outOfStock {
            let alert = UIAlertController(title: "ì¬ë£Œê°€ ëª¨ìë¼ìš”.",
										  message: "ì¬ê³ ë¥¼ ìˆ˜ì •í• ê¹Œìš”?",
										  preferredStyle: .alert)
            let ok = UIAlertAction(title: "ì˜ˆ",
								   style: .default,
								   handler: { _ in
                                               self.navigationController?.show(stockViewController, sender: self)
            })
            let cancel = UIAlertAction(title: "ì•„ë‹ˆì˜¤",
									   style: .default,
									   handler: nil)
           alert.addAction(ok)
            alert.addAction(cancel)
            present(alert, animated: true, completion: nil)
             } catch {
            print(StockError.unKnown.message)
        }
```

ğŸ”‘ **í•´ê²°ë°©ë²•** <br>
ì–¼ëŸ¿ ê´€ë ¨ ë©”ì‹œì§€ë“¤ì„ enum ì²˜ë¦¬í•˜ê³  ì–¼ëŸ¿ ë‚´ìš©ì„ í•¨ìˆ˜ë¡œ êµ¬ë¶„í•˜ì—¬ ê°€ë…ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.
```swift=!
// MainViewController.swift
private func showAlert(type: AlertText) {
    ...
    let alert = UIAlertController(title: type.title,
                                  message: type.message,
                                  preferredStyle: .alert)

    switch type {
    ...
    case .outOfStock:
        let ok = UIAlertAction(title: AlertActionText.ok.title,
                               style: .default,
                               handler: { _ in self.navigationController?.present(stockViewController, animated: true)
        })
        ...
}

```
```swift!
// AlertEnum.swift
enum AlertText {
    case menuOut(menu: String)
    case outOfStock
    case confirmStockChange
    
    var title: String {
        switch self {
        case .menuOut(menu: let menu):
            return "\(menu) ë‚˜ì™”ìŠµë‹ˆë‹¤!"
    ...
}

enum AlertActionText {
    case ok
    case cancel
    case interjection
    
    var title: String {
        switch self {
        case .ok:
            return "ì˜ˆ"
    ...
}
```


ğŸ¤” **ê³ ë¯¼í–ˆë˜ ì ** <br>

í™”ë©´ì „í™˜ ê¸°ë²•ì„ Navigation Controllerë¥¼ í™œìš©í•œ showë¡œ ì§„í–‰í• ì§€, ì•„ë‹ˆë©´ Modalì„ í™œìš©í• ì§€ì— ëŒ€í•˜ì—¬ ê³ ë¯¼ì´ ë§ì•˜ìŠµë‹ˆë‹¤. ìë™ìœ¼ë¡œ ë²„íŠ¼ì´ êµ¬í˜„ë˜ëŠ” ì , ê·¸ë¦¬ê³  UIê°€ Navigation í˜•ì‹ì„ ë”°ë¼ ê·¸ë ¤ì ¸ìˆëŠ” ì ì„ ë³´ì•˜ì„ ë•ŒëŠ” ì „ìë¡œ êµ¬í˜„í•´ì•¼ í•  ê²ƒ ê°™ì•˜ê³ , ì „ì²´ ì•±ì˜ íë¦„ì„ ë³´ì•˜ì„ ë•ŒëŠ” í›„ìë¡œ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ë§ëŠ” ê²ƒ ê°™ì•˜ìŠµë‹ˆë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ë‘ ê°€ì§€ ëª¨ë‘ë¥¼ ì ìš©í•´ ë³¸ ë’¤, íë¦„ì— ë§ê²Œ Modalì„ í™œìš©í•˜ëŠ” ê²ƒì´ ì¢‹ê² ë‹¤ëŠ” ê²°ë¡ ì„ ë‚´ë ¸ìŠµë‹ˆë‹¤.


## ğŸ“‘ ì°¸ê³ ìë£Œ
- [ë‚´ë¹„ê²Œì´ì…˜ ë°”](https://developer.apple.com/documentation/uikit/uinavigationbar)
- [ëª¨ë‹¬](https://developer.apple.com/design/human-interface-guidelines/modality)
- [ì–¼ëŸ¿](https://developer.apple.com/documentation/swiftui/alert)
- [í´ë˜ìŠ¤ì™€ êµ¬ì¡°ì²´](https://bbiguduk.gitbook.io/swift/language-guide-1/structures-and-classes)
- [ì œì–´ íë¦„](https://bbiguduk.gitbook.io/swift/language-guide-1/control-flow)
- [ì—ëŸ¬ ì²˜ë¦¬](https://bbiguduk.gitbook.io/swift/language-guide-1/error-handling)
